<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>It's Over - Dating Game Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .login-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            text-align: center;
        }

        .login-form {
            max-width: 400px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #555;
        }

        .form-group input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .dashboard {
            display: none;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .sidebar {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            height: fit-content;
        }

        .main-content {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .user-info {
            text-align: center;
            margin-bottom: 20px;
        }

        .user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-size: 2rem;
            color: white;
        }

        .coin-balance {
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
            color: #333;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .matches-section {
            margin-bottom: 30px;
        }

        .match-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .match-card:hover {
            background: #e9ecef;
            border-color: #667eea;
        }

        .match-card.active {
            border-color: #667eea;
            background: #e7f3ff;
        }

        .chat-area {
            height: 400px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            padding: 15px;
            overflow-y: auto;
            margin-bottom: 15px;
            background: #fafafa;
        }

        .message {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 10px;
            max-width: 70%;
        }

        .message.sent {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin-left: auto;
        }

        .message.received {
            background: white;
            border: 1px solid #e1e5e9;
        }

        .message-input {
            display: flex;
            gap: 10px;
        }

        .message-input input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 14px;
        }

        .game-section {
            background: #fff3cd;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border: 2px solid #ffeaa7;
        }

        .compliment-game {
            text-align: center;
        }

        .compliment-text {
            font-size: 1.2rem;
            font-style: italic;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border: 2px solid #ffeaa7;
        }

        .game-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        .game-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .game-btn.ai {
            background: #ff6b6b;
            color: white;
        }

        .game-btn.human {
            background: #4ecdc4;
            color: white;
        }

        .game-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .gifts-section {
            margin-top: 20px;
        }

        .gifts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .gift-item {
            background: white;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .gift-item:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .gift-emoji {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .gift-cost {
            font-weight: bold;
            color: #ffd700;
        }

        .milestones {
            margin-top: 20px;
        }

        .milestone-item {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .milestone-reward {
            background: #ffd700;
            color: #333;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .coin-transfer {
            background: #e3f2fd;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .coin-transfer input {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
        }

        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-online {
            background: #28a745;
        }

        .status-offline {
            background: #6c757d;
        }

        .love-confession {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .confession-btn {
            background: white;
            color: #ff6b6b;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .confession-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üíï It's Over</h1>
            <p>The Ultimate Dating Game Experience</p>
        </div>

        <div class="login-section" id="loginSection">
            <h2>Enter Your Dating Journey</h2>
            <div class="login-form">
                <div class="form-group">
                    <label for="anonymousId">Anonymous ID</label>
                    <input type="text" id="anonymousId" placeholder="Enter your anonymous ID">
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter your password">
                </div>
                <button class="btn" onclick="login()">Start Your Journey üíï</button>
            </div>
        </div>

        <div class="dashboard" id="dashboard">
            <div class="sidebar">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">üë§</div>
                    <h3 id="userName">Loading...</h3>
                    <div class="coin-balance" id="coinBalance">
                        ü™ô Loading coins...
                    </div>
                </div>

                <div class="matches-section">
                    <h4>Your Matches</h4>
                    <div id="matchesList">
                        Loading matches...
                    </div>
                </div>

                <div class="milestones">
                    <h4>Achievements üèÜ</h4>
                    <div id="milestonesList">
                        Loading milestones...
                    </div>
                </div>
            </div>

            <div class="main-content">
                <div class="game-section">
                    <div class="compliment-game">
                        <h3>üíù Compliment Guessing Game</h3>
                        <p>Can you tell if this compliment is AI-generated or written by your partner?</p>
                        <div class="compliment-text" id="complimentText">
                            Click "New Compliment" to start playing!
                        </div>
                        <div class="game-buttons">
                            <button class="game-btn ai" onclick="guessCompliment(true)">ü§ñ AI Generated</button>
                            <button class="game-btn human" onclick="guessCompliment(false)">üíï Human Written</button>
                            <button class="btn" onclick="newCompliment()">New Compliment</button>
                        </div>
                    </div>
                </div>

                <div class="chat-area" id="chatArea">
                    <div style="text-align: center; color: #666; margin-top: 150px;">
                        Select a match to start chatting üí¨
                    </div>
                </div>

                <div class="message-input">
                    <input type="text" id="messageInput" placeholder="Type your message..." onkeypress="handleMessageKeyPress(event)">
                    <button class="btn" onclick="sendMessage()">Send üíï</button>
                </div>

                <div class="coin-transfer">
                    <h4>üí∞ Send Coins with Love</h4>
                    <input type="number" id="coinAmount" placeholder="Amount" min="1">
                    <input type="password" id="coinPin" placeholder="PIN">
                    <input type="text" id="coinMessage" placeholder="Message (e.g., 'I like you ‚ù§Ô∏è')">
                    <button class="btn" onclick="sendCoins()">Send Coins üíù</button>
                </div>

                <div class="love-confession">
                    <h3>üíï Ready to Confess Your Love?</h3>
                    <p>Take your relationship to the next level!</p>
                    <button class="confession-btn" onclick="confessLove()">Confess Love üíñ</button>
                </div>
            </div>

            <div class="sidebar">
                <div class="gifts-section">
                    <h4>üéÅ Virtual Gifts</h4>
                    <div class="gifts-grid" id="giftsGrid">
                        Loading gifts...
                    </div>
                </div>

                <div style="margin-top: 20px;">
                    <h4>üìä Your Stats</h4>
                    <div id="userStats">
                        <div>Messages: <span id="messageCount">0</span></div>
                        <div>Coins Sent: <span id="coinsSent">0</span></div>
                        <div>Gifts Given: <span id="giftsGiven">0</span></div>
                        <div>Game Score: <span id="gameScore">0</span></div>
                    </div>
                </div>

                <div style="margin-top: 20px;">
                    <h4>üèÜ Leaderboard</h4>
                    <div id="leaderboard">
                        Loading rankings...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <script>
        let currentUser = null;
        let currentMatch = null;
        let ws = null;
        let currentCompliment = null;
        let gameScore = 0;

        // Initialize WebSocket connection
        function initWebSocket() {
            const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';
            ws = new WebSocket(`${protocol}//${window.location.host}`);
            
            ws.onopen = () => {
                console.log('WebSocket connected');
                if (currentUser) {
                    ws.send(JSON.stringify({
                        type: 'join',
                        userId: currentUser.id
                    }));
                }
            };

            ws.onmessage = (event) => {
                const data = JSON.parse(event.data);
                handleWebSocketMessage(data);
            };

            ws.onclose = () => {
                console.log('WebSocket disconnected');
                setTimeout(initWebSocket, 3000); // Reconnect after 3 seconds
            };
        }

        function handleWebSocketMessage(data) {
            switch (data.type) {
                case 'new-message':
                    displayMessage(data);
                    break;
                case 'coin-update':
                    updateCoinBalance(data.coins);
                    break;
                case 'milestone-achieved':
                    showNotification(`üèÜ Milestone achieved: ${data.milestone}! +${data.coins} coins`);
                    break;
                case 'gift-received':
                    showNotification(`üéÅ You received a ${data.giftName} from ${data.senderName}!`);
                    break;
                case 'love-confession':
                    showNotification(`üíï ${data.senderName} confessed their love to you!`);
                    break;
            }
        }

        async function login() {
            const anonymousId = document.getElementById('anonymousId').value;
            const password = document.getElementById('password').value;

            if (!anonymousId || !password) {
                showNotification('Please enter both ID and password', 'error');
                return;
            }

            try {
                const response = await fetch('https://google-8j5x.onrender.com/api/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ anonymous_id: anonymousId, password })
                });

                const data = await response.json();

                if (response.ok) {
                    currentUser = data.user;
                    localStorage.setItem('token', data.token);
                    
                    document.getElementById('loginSection').style.display = 'none';
                    document.getElementById('dashboard').style.display = 'grid';
                    
                    initializeUserDashboard();
                    initWebSocket();
                } else {
                    showNotification(data.error || 'Login failed', 'error');
                }
            } catch (error) {
                showNotification('Connection error. Please try again.', 'error');
            }
        }

        async function initializeUserDashboard() {
            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('userAvatar').textContent = currentUser.name.charAt(0).toUpperCase();
            updateCoinBalance(currentUser.coins);

            // Load matches
            await loadMatches();
            
            // Load gifts
            await loadGifts();
            
            // Load milestones
            await loadMilestones();
        }

        async function loadMatches() {
            try {
                const response = await fetch(`https://google-8j5x.onrender.com/api/matches/${currentUser.id}`);
                const matches = await response.json();
                
                const matchesList = document.getElementById('matchesList');
                matchesList.innerHTML = '';

                matches.forEach(match => {
                    const matchDiv = document.createElement('div');
                    matchDiv.className = 'match-card';
                    matchDiv.onclick = () => selectMatch(match);
                    
                    const partnerName = match.user1_id === currentUser.id ? match.user2_name : match.user1_name;
                    const matchType = match.match_type === 'complementary' ? 'üî•' : 'üíï';
                    
                    matchDiv.innerHTML = `
                        <div style="display: flex; align-items: center;">
                            <span class="status-indicator status-online"></span>
                            <strong>${partnerName}</strong>
                            <span style="margin-left: auto;">${matchType}</span>
                        </div>
                        <small style="color: #666;">${match.match_type} match</small>
                    `;
                    
                    matchesList.appendChild(matchDiv);
                });
            } catch (error) {
                console.error('Error loading matches:', error);
            }
        }

        async function loadGifts() {
            try {
                const response = await fetch('https://google-8j5x.onrender.com/api/gifts');
                const gifts = await response.json();
                
                const giftsGrid = document.getElementById('giftsGrid');
                giftsGrid.innerHTML = '';

                gifts.forEach(gift => {
                    const giftDiv = document.createElement('div');
                    giftDiv.className = 'gift-item';
                    giftDiv.onclick = () => sendGift(gift);
                    
                    giftDiv.innerHTML = `
                        <div class="gift-emoji">${gift.emoji}</div>
                        <div class="gift-cost">${gift.cost} ü™ô</div>
                        <small>${gift.name}</small>
                    `;
                    
                    giftsGrid.appendChild(giftDiv);
                });
            } catch (error) {
                console.error('Error loading gifts:', error);
            }
        }

        async function loadMilestones() {
            try {
                const response = await fetch(`https://google-8j5x.onrender.com/api/milestones/${currentUser.id}`);
                const milestones = await response.json();
                
                const milestonesList = document.getElementById('milestonesList');
                milestonesList.innerHTML = '';

                milestones.slice(0, 5).forEach(milestone => {
                    const milestoneDiv = document.createElement('div');
                    milestoneDiv.className = 'milestone-item';
                    
                    milestoneDiv.innerHTML = `
                        <span>${milestone.milestone_type}: ${milestone.milestone_value}</span>
                        <span class="milestone-reward">+${milestone.coins_earned} ü™ô</span>
                    `;
                    
                    milestonesList.appendChild(milestoneDiv);
                });
            } catch (error) {
                console.error('Error loading milestones:', error);
            }
        }

        function selectMatch(match) {
            currentMatch = match;
            
            // Update UI to show selected match
            document.querySelectorAll('.match-card').forEach(card => {
                card.classList.remove('active');
            });
            event.target.closest('.match-card').classList.add('active');
            
            // Load chat messages
            loadMessages();
        }

        async function loadMessages() {
            if (!currentMatch) return;
            
            const partnerId = currentMatch.user1_id === currentUser.id ? currentMatch.user2_id : currentMatch.user1_id;
            
            try {
                const response = await fetch(`https://google-8j5x.onrender.com/api/messages/${currentUser.id}/${partnerId}`);
                const messages = await response.json();
                
                const chatArea = document.getElementById('chatArea');
                chatArea.innerHTML = '';

                messages.forEach(message => {
                    displayMessage(message);
                });
                
                chatArea.scrollTop = chatArea.scrollHeight;
            } catch (error) {
                console.error('Error loading messages:', error);
            }
        }

        function displayMessage(message) {
            const chatArea = document.getElementById('chatArea');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${message.sender_id === currentUser.id ? 'sent' : 'received'}`;
            
            let content = message.message;
            if (message.coins_sent > 0) {
                content += ` üí∞ (+${message.coins_sent} coins)`;
            }
            
            messageDiv.innerHTML = `
                <div>${content}</div>
                <small style="opacity: 0.7;">${new Date(message.created_at).toLocaleTimeString()}</small>
            `;
            
            chatArea.appendChild(messageDiv);
            chatArea.scrollTop = chatArea.scrollHeight;
        }

        function sendMessage() {
            const messageInput = document.getElementById('messageInput');
            const message = messageInput.value.trim();
            
            if (!message || !currentMatch) return;
            
            const partnerId = currentMatch.user1_id === currentUser.id ? currentMatch.user2_id : currentMatch.user1_id;
            
            ws.send(JSON.stringify({
                type: 'send-message',
                senderId: currentUser.id,
                receiverId: partnerId,
                message: message
            }));
            
            messageInput.value = '';
        }

        function handleMessageKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendCoins() {
            const amount = parseInt(document.getElementById('coinAmount').value);
            const pin = document.getElementById('coinPin').value;
            const message = document.getElementById('coinMessage').value;
            
            if (!amount || !pin || !message || !currentMatch) {
                showNotification('Please fill all fields', 'error');
                return;
            }
            
            if (amount > currentUser.coins) {
                showNotification('Insufficient coins!', 'error');
                return;
            }
            
            const partnerId = currentMatch.user1_id === currentUser.id ? currentMatch.user2_id : currentMatch.user1_id;
            
            ws.send(JSON.stringify({
                type: 'send-coins',
                senderId: currentUser.id,
                receiverId: partnerId,
                amount: amount,
                message: message,
                pin: pin
            }));
            
            // Clear form
            document.getElementById('coinAmount').value = '';
            document.getElementById('coinPin').value = '';
            document.getElementById('coinMessage').value = '';
        }

        function sendGift(gift) {
            if (!currentMatch) {
                showNotification('Please select a match first', 'error');
                return;
            }
            
            if (gift.cost > currentUser.coins) {
                showNotification('Insufficient coins!', 'error');
                return;
            }
            
            const partnerId = currentMatch.user1_id === currentUser.id ? currentMatch.user2_id : currentMatch.user1_id;
            
            ws.send(JSON.stringify({
                type: 'send-gift',
                senderId: currentUser.id,
                receiverId: partnerId,
                giftId: gift.id,
                message: `Sent you a ${gift.name}!`
            }));
            
            showNotification(`Gift sent! üéÅ`, 'success');
        }

        function newCompliment() {
            // Randomly choose between AI and human compliment
            const isAI = Math.random() < 0.5;
            
            if (isAI) {
                const aiCompliments = [
                    "Your smile could light up the darkest room",
                    "You have the most beautiful soul I've ever encountered",
                    "Every conversation with you feels like a gift",
                    "Your laugh is my favorite sound in the world",
                    "You make ordinary moments feel extraordinary"
                ];
                currentCompliment = {
                    text: aiCompliments[Math.floor(Math.random() * aiCompliments.length)],
                    isAI: true
                };
            } else {
                const humanCompliments = [
                    "I love how you always know exactly what to say to make me smile",
                    "Your weird sense of humor is actually my favorite thing about you",
                    "The way you scrunch your nose when you're thinking is adorable",
                    "I could listen to you talk about your passions for hours",
                    "You make me want to be a better person every single day"
                ];
                currentCompliment = {
                    text: humanCompliments[Math.floor(Math.random() * humanCompliments.length)],
                    isAI: false
                };
            }
            
            document.getElementById('complimentText').textContent = `"${currentCompliment.text}"`;
        }

        function guessCompliment(guessedAI) {
            if (!currentCompliment) {
                showNotification('Generate a compliment first!', 'error');
                return;
            }
            
            const correct = guessedAI === currentCompliment.isAI;
            const coinsEarned = correct ? (currentCompliment.isAI ? 20 : 30) : 0;
            
            if (correct) {
                gameScore += coinsEarned;
                currentUser.coins += coinsEarned;
                updateCoinBalance(currentUser.coins);
                showNotification(`Correct! +${coinsEarned} coins üéâ`, 'success');
            } else {
                showNotification(`Wrong! It was ${currentCompliment.isAI ? 'AI' : 'human'} written`, 'error');
            }
            
            document.getElementById('gameScore').textContent = gameScore;
            
            // Send game activity to server
            if (currentMatch) {
                const partnerId = currentMatch.user1_id === currentUser.id ? currentMatch.user2_id : currentMatch.user1_id;
                ws.send(JSON.stringify({
                    type: 'game-activity',
                    user1Id: currentUser.id,
                    user2Id: partnerId,
                    activityType: 'compliment-guess',
                    content: currentCompliment.text,
                    isAiGenerated: currentCompliment.isAI,
                    guessCorrect: correct
                }));
            }
            
            currentCompliment = null;
            document.getElementById('complimentText').textContent = "Click 'New Compliment' to play again!";
        }

        function confessLove() {
            if (!currentMatch) {
                showNotification('Please select a match first', 'error');
                return;
            }
            
            const partnerId = currentMatch.user1_id === currentUser.id ? currentMatch.user2_id : currentMatch.user1_id;
            const partnerName = currentMatch.user1_id === currentUser.id ? currentMatch.user2_name : currentMatch.user1_name;
            
            if (confirm(`Are you ready to confess your love to ${partnerName}? This is a big step! üíï`)) {
                ws.send(JSON.stringify({
                    type: 'love-confession',
                    userId: currentUser.id,
                    partnerId: partnerId,
                    confession: `I love you, ${partnerName}! üíï`
                }));
                
                showNotification('Love confession sent! üíñ', 'success');
            }
        }

        function updateCoinBalance(coins) {
            currentUser.coins = coins;
            document.getElementById('coinBalance').textContent = `ü™ô ${coins} coins`;
        }

        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            // Check if user is already logged in
            const token = localStorage.getItem('token');
            if (token) {
                // You could validate the token here
                // For now, we'll just show the login form
            }
        });
    </script>
</body>
</html>